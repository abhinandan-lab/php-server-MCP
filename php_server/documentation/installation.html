<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation Guide - PHP Light Framework</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-header">
            <h3>PHP Light Framework</h3>
            <span class="version">v1.0.0</span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">🏠 Home</a></li>
            <li><a href="installation.html" class="active">📦 Installation</a></li>
            <li><a href="routing.html">🛣️ Routing</a></li>
            <li><a href="controllers.html">🎛️ Controllers</a></li>
            <li><a href="validation.html">🔒 Validation & Security</a></li>
            <li><a href="database.html">💾 Database</a></li>
            <li><a href="debugging.html">🐛 Debugging</a></li>
            <li><a href="exceptions.html">⚠️ Error Handling</a></li>
            <li><a href="examples.html">📚 Examples</a></li>
            <li><a href="reference.html">📖 API Reference</a></li>
        </ul>
        <div class="sidebar-footer">
            <a href="/api/docs" target="_blank" class="demo-link">🚀 Live Demo</a>
        </div>
    </nav>

    <main class="content">
        <div class="container">
            <header class="page-header">
                <nav class="breadcrumb">
                    <a href="index.html">Home</a> > Installation
                </nav>
                <h1>📦 Installation Guide</h1>
                <p>Complete setup guide for PHP Light Framework</p>
            </header>

            <section class="requirements">
                <h2>📋 System Requirements</h2>
                <ul>
                    <li><strong>PHP:</strong> 8.0 or higher</li>
                    <li><strong>Composer:</strong> Latest version</li>
                    <li><strong>Database:</strong> MySQL 5.7+ or MariaDB 10.2+</li>
                    <li><strong>Web Server:</strong> Apache 2.4+ or Nginx 1.18+</li>
                    <li><strong>Extensions:</strong> PDO, JSON, mbstring, openssl</li>
                </ul>
            </section>

            <section class="installation-steps">
                <h2>🚀 Installation Steps</h2>
                
                <div class="step">
                    <h3>Step 1: Download Framework</h3>
                    <pre><code class="language-bash"># Clone repository
git clone https://github.com/yourusername/php-light-framework.git
cd php-light-framework

# Or download ZIP and extract</code></pre>
                </div>

                <div class="step">
                    <h3>Step 2: Install Dependencies</h3>
                    <pre><code class="language-bash">composer install</code></pre>
                </div>

                <div class="step">
                    <h3>Step 3: Environment Configuration</h3>
                    <pre><code class="language-bash"># Copy environment template
cp .env.example .env

# Edit configuration
nano .env</code></pre>
                    
                    <h4>Environment Variables:</h4>
                    <pre><code class="language-env"># Application Settings
APP_ENV=development
APP_NAME="PHP Light Framework"
API_VERSION=1.0.0

# Error Handling
DEBUG_MODE=true
SHOW_ERRORS=true
LOG_ERRORS=true

# Database Configuration
DB_HOST=localhost
DB_PORT=3306
DB_NAME=your_database
DB_USER=your_username
DB_PASS=your_password

# Security
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600</code></pre>
                </div>

                <div class="step">
                    <h3>Step 4: Web Server Configuration</h3>
                    
                    <h4>Apache Configuration (.htaccess)</h4>
                    <p>Create <code>.htaccess</code> in project root:</p>
                    <pre><code class="language-apache">RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^api/(.*)$ api/index.php [QSA,L]</code></pre>

                    <h4>Nginx Configuration</h4>
                    <pre><code class="language-nginx">server {
    listen 80;
    server_name your-domain.com;
    root /path/to/your/project;
    index index.php index.html;

    location /api/ {
        try_files $uri $uri/ /api/index.php?$query_string;
    }

    location ~ \.php$ {
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}</code></pre>
                </div>

                <div class="step">
                    <h3>Step 5: Database Setup</h3>
                    <p>Create your database and run initial migration:</p>
                    <pre><code class="language-sql">-- Create database
CREATE DATABASE your_database_name;
USE your_database_name;</code></pre>

                    <p>Upload your schema via migration endpoint:</p>
                    <pre><code class="language-bash"># Using curl
curl -X POST http://localhost/api/run_migration \
     -F "sql_file=@/path/to/your/schema.sql"</code></pre>
                </div>

                <div class="step">
                    <h3>Step 6: Test Installation</h3>
                    <pre><code class="language-bash"># Test API welcome endpoint
curl http://localhost/api/

# Access interactive documentation
http://localhost/api/docs</code></pre>
                </div>
            </section>

            <section class="directory-structure">
                <h2>📁 Directory Structure</h2>
                <pre><code class="language-text">/project-root
├── /api                    # API source code
│   ├── /controllers        # Controller classes
│   ├── /core              # Core framework classes
│   ├── /exceptions        # Custom exception classes
│   ├── /helpers           # Helper functions
│   ├── /logs              # Error logs (created automatically)
│   ├── /middleware        # Middleware classes
│   ├── connection.php     # Database connection
│   ├── Router.php         # Router class
│   ├── index.php          # API entry point
│   ├── tables             # Database schema for migrations
│   └── shortTables        # Quick schema reference
├── /docs                  # Documentation (this folder)
├── /vendor                # Composer dependencies
├── .env                   # Environment configuration
├── .env.example           # Environment template
├── .htaccess              # Apache URL rewriting
├── composer.json          # Dependencies
└── README.md              # Basic information</code></pre>
            </section>

            <section class="troubleshooting">
                <h2>🔧 Troubleshooting</h2>
                
                <div class="issue">
                    <h3>Issue: 500 Internal Server Error</h3>
                    <p><strong>Solution:</strong></p>
                    <ul>
                        <li>Check PHP error logs</li>
                        <li>Verify .htaccess configuration</li>
                        <li>Ensure PHP extensions are installed</li>
                        <li>Check file permissions (755 for directories, 644 for files)</li>
                    </ul>
                </div>

                <div class="issue">
                    <h3>Issue: Database Connection Failed</h3>
                    <p><strong>Solution:</strong></p>
                    <ul>
                        <li>Verify database credentials in .env</li>
                        <li>Check if database exists</li>
                        <li>Test PDO connection manually</li>
                        <li>Verify MySQL/MariaDB is running</li>
                    </ul>
                </div>

                <div class="issue">
                    <h3>Issue: Routes Not Working</h3>
                    <p><strong>Solution:</strong></p>
                    <ul>
                        <li>Enable Apache mod_rewrite</li>
                        <li>Check .htaccess file exists and is readable</li>
                        <li>Verify URL structure: /api/endpoint</li>
                        <li>Check server error logs</li>
                    </ul>
                </div>
            </section>

            <section class="next-steps">
                <h2>🎯 Next Steps</h2>
                <div class="next-links">
                    <a href="routing.html" class="next-link">
                        <strong>🛣️ Learn Routing</strong>
                        <span>Understand the array-based route system</span>
                    </a>
                    <a href="controllers.html" class="next-link">
                        <strong>🎛️ Create Controllers</strong>
                        <span>Build your first API endpoints</span>
                    </a>
                    <a href="examples.html" class="next-link">
                        <strong>📚 See Examples</strong>
                        <span>Complete CRUD API tutorial</span>
                    </a>
                </div>
            </section>
        </div>
    </main>

    <script src="assets/script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
